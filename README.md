# redis-lock-starter

#### 介绍
自定义注解实现基于redis的分布式锁

#### 使用说明

1. 注解使用请查看@RedisLock相关JavaDoc。目前基于单机redis实现。

#### 更新日志

##### 1.1.2
1. 使用spel表达式集合映射的方式支持同时加N把锁，解决多资源加锁问题。
2. 修复几个问题
    - 锁route命名拼接重复问题
    - 加锁解锁日志
    - 屏蔽底层错误，强行包装为指定异常类型和信息

##### 1.1.3
1. 调整自动装配策略，允许引用方进行定制。

##### 1.1.3.1
1. route属性调整为prefix，消除歧义。

##### 1.1.3.2
1. 自动装配优化。防止redisClient需要过早初始化导致异常。

##### 1.2.0
1. 支持@Repeatable语义。
2. 修复有参数列表时常量key的错误

#### TODO
1. ~~支持基于redis集群的锁功能~~
    - 不考虑支持集群形式的锁
2. 支持自定义异常
    - 如异常类的构造逻辑特殊，用户指定bean自定义处理。
3. 重构以支持不同的实现，如zk
